(this["webpackJsonpreact-gallery"]=this["webpackJsonpreact-gallery"]||[]).push([[0],{21:function(e,t,a){},34:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),o=a.n(r),l=(a(21),a(15)),s=a(9),i=a(10),h=a(12),u=a(11),m=a(13),p=a(6),d=a(7),f=a(17),g=a.n(f),E={API_KEY:"02698e088c794b7dee3ba43a1f7e5726"},v=function(e){return c.a.createElement("nav",{className:"main-nav"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(p.b,{to:"/search/trains",onClick:e.navClicked},"Trains")),c.a.createElement("li",null,c.a.createElement(p.b,{to:"/search/cats",onClick:e.navClicked},"Cats")),c.a.createElement("li",null,c.a.createElement(p.b,{to:"/search/dogs",onClick:e.navClicked},"Dogs"))))},b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={searchedText:""},a.onSearch=function(){a.setState({searchedText:a.query.value})},a.searchSubmit=function(e){e.preventDefault(),a.props.history.push("/search/".concat(a.query.value)),a.search(a.state.searchedText),e.currentTarget.reset()},a.search=function(e){a.props.searchFor(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("form",{className:"search-form",onSubmit:this.searchSubmit},c.a.createElement("input",{type:"search",name:"search",onChange:this.onSearch,ref:function(t){return e.query=t},placeholder:"Search",required:!0}),c.a.createElement("button",{type:"submit",className:"search-button"},c.a.createElement("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))}}]),t}(n.Component),k=function(e){var t="https://farm".concat(e.photo_info.farm,".staticflickr.com/").concat(e.photo_info.server,"/").concat(e.photo_info.id,"_").concat(e.photo_info.secret,"_m.jpg");return c.a.createElement("li",null,c.a.createElement("img",{src:t,alt:e.photo_info.title}))},j=function(e){return e.loading?c.a.createElement("h1",null," LOADING.. "):c.a.createElement("h1",null,"There were no results..")},y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={clicked:a.props.clicked},a.doPhotosExist=function(){var e=a.props.photo_info;return e&&e.length>0?e.map((function(e){return c.a.createElement(k,{photo_info:e,key:e.id})})):a.loadingResponse()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"loadingResponse",value:function(){return c.a.createElement(j,{loading:this.props.loading})}},{key:"componentDidMount",value:function(){if(this.props.history.location.pathname.length>1){var e=this.props.history.location.pathname.replace(/[/]search[/]/g,"");this.props.displayResults(e)}}},{key:"render",value:function(){return c.a.createElement("div",{className:"photo-container"},c.a.createElement("h2",null,"Results "),c.a.createElement("ul",null,this.doPhotosExist()))}}]),t}(n.Component),O=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("h1",null,"404 Not Found!"),c.a.createElement("a",{href:"/"},"Go Home"))},w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={photos:[],cat:[],meme:[],train:[],clicked:!1,loading:!0},a.navSearch=function(e){var t="https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(E.API_KEY,"&text=").concat(e,"&safe_search=1&per_page=24&page=1&format=json&nojsoncallback=1");g.a.get(t).then((function(t){var n,c,r=[];(t.data.photos&&r.push(t.data.photos.photo),0===r[0].length)?a.setState((n={},Object(l.a)(n,"".concat(e),r),Object(l.a)(n,"loading",!1),n)):a.setState((c={},Object(l.a)(c,"".concat(e),r),Object(l.a)(c,"loading",!0),c))})).catch((function(e){return console.log(e)}))},a.searchForPhotos=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pelican",t="https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(E.API_KEY,"&text=").concat(e,"&safe_search=1&per_page=24&page=1&format=json&nojsoncallback=1");a.setState({photos:[],loading:!0}),g.a.get(t).then((function(e){var t=[];e.data.photos&&t.push(e.data.photos.photo),0===t[0].length?a.setState({photos:t,loading:!1}):a.setState({photos:t,loading:!0})})).catch((function(e){return console.log(e)}))},a.navClicked=function(){a.setState({clicked:!a.state.clicked})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.searchForPhotos(),this.navSearch("cat"),this.navSearch("dog"),this.navSearch("train")}},{key:"render",value:function(){var e=this;return c.a.createElement(n.Fragment,null,c.a.createElement(p.a,null,c.a.createElement(v,{navClicked:this.navClicked}),c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return c.a.createElement(n.Fragment,null,c.a.createElement(b,Object.assign({},t,{searchFor:e.searchForPhotos})),c.a.createElement(y,Object.assign({},t,{photo_info:e.state.photos[0],displayResults:e.searchForPhotos,loading:e.state.loading,clicked:e.state.clicked})))}}),c.a.createElement(d.a,{path:"/search/cats",render:function(t){return c.a.createElement(n.Fragment,null,c.a.createElement(b,Object.assign({},t,{searchFor:e.searchForPhotos})),c.a.createElement(y,Object.assign({},t,{photo_info:e.state.cat[0],loading:e.state.loading,clicked:e.state.clicked})))}}),c.a.createElement(d.a,{path:"/search/dogs",render:function(t){return c.a.createElement(n.Fragment,null,c.a.createElement(b,Object.assign({},t,{searchFor:e.searchForPhotos})),c.a.createElement(y,Object.assign({},t,{photo_info:e.state.dog[0],loading:e.state.loading,clicked:e.state.clicked})))}}),c.a.createElement(d.a,{path:"/search/trains",render:function(t){return c.a.createElement(n.Fragment,null,c.a.createElement(b,Object.assign({},t,{searchFor:e.searchForPhotos})),c.a.createElement(y,Object.assign({},t,{photo_info:e.state.train[0],loading:e.state.loading,clicked:e.state.clicked})))}}),c.a.createElement(d.a,{path:"/search/:query",render:function(t){return c.a.createElement(n.Fragment,null,c.a.createElement(b,Object.assign({},t,{searchFor:e.searchForPhotos})),c.a.createElement(y,Object.assign({},t,{displayResults:e.searchForPhotos,photo_info:e.state.photos[0],loading:e.state.loading,clicked:e.state.clicked})))}}),c.a.createElement(d.a,{path:"*",component:O}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(p.a,{basename:"/reactGalleryApp"},c.a.createElement(w,null)),document.getElementById("container")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.727e532a.chunk.js.map